<div class="container">
    <div class="form-group">
        <h6>Ordnung ausw&auml;hlen:</h6>
        <select class="form-control form-control-sm" (change)="filterSelectedOrdnung($event.target.value)">
            <option *ngFor="let ordnung of ordnungList" value="{{ordnung}}">{{ordnung}}</option>
        </select>
        &nbsp;
        <input class="form-control form-control-sm" type="text" placeholder="Suche (Artname oder Familie)..." (keyup)="filterBySearch($event.target.value)">
    </div>
    <div class="accordion" id="accordionArten">
        <div class="card" *ngFor="let art of filteredArten; let i = index">
            <div class="card-header" [attr.id]="'heading' + i">
                <h2 class="mb-0">
                    <button class="btn btn-link text-left" type="button" data-toggle="collapse" [attr.data-target]="'#collapse' + i"
                    aria-expanded="true" [attr.aria-controls]="'collapse' + i" (click)="showFundeForArt(art)">
                        <table>
                            <tr>
                                <td>
                                    <img *ngIf="art.artfoto != null && art.artfoto.iconPfad != null" 
                                        src="assets/images/{{art.artfoto.iconPfad}}" 
                                        alt="Icon" class="img-thumbnail"
                                        style="margin-right: 10px;" />
                                    <fa-icon *ngIf="art.artfoto == null || art.artfoto.iconPfad == null" [icon]="faImage" size="2x" [border]="true" [fixedWidth]="true"></fa-icon>
                                </td>
                                <td>
                                    <b>{{art.nameDeutsch}}</b><small *ngIf="art.familie != null" class="text-muted">&nbsp;({{art.familie}})</small><br />
                                    <small class="text-muted"><em>{{art.name}}</em></small>
                                </td>
                            </tr>
                        </table>
                    </button>
                </h2>
            </div>

            <div [attr.id]="'collapse' + i" class="collapse" [attr.aria-labelledby]="'heading' + i" data-parent="#accordionArten">
                <div *ngIf="selectedArt != null && selectedArt.name == art.name" class="card-body">

                    <a *ngIf="selectedArt.urlWikipedia != null" href="{{selectedArt.urlWikipedia}}" class="badge badge-info" target="_blank">Wikipedia</a>
                    <span *ngIf="selectedArt.urlWikipedia != null">&nbsp;</span>
                    <a *ngIf="selectedArt.urlInsektenSachsen != null" href="{{selectedArt.urlInsektenSachsen}}" class="badge badge-info" target="_blank">Insekten Sachsen</a>
                    <span *ngIf="selectedArt.urlInsektenSachsen != null">&nbsp;</span>
                    <a *ngIf="selectedArt.urlSonstige != null" href="{{selectedArt.urlSonstige}}" class="badge badge-info" target="_blank">Weitere Infos</a>
                    <span *ngIf="selectedArt.urlSonstige != null">&nbsp;</span>
                    <a *ngIf="selectedArt.urlVideo != null" href="{{selectedArt.urlVideo}}" class="badge badge-success" target="_blank">Video</a><br /><br />

                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th scope="col">Beobachtungen</th>
                            </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let fund of artenFunde; let j = index">
                            <td>
                                {{fund.datumFormattiert}} <small class="text-muted"><em>({{fund.beobachter}})</em></small><br />
                                {{fund.fundort}}
                            </td>
                          </tr>
                        </tbody>
                    </table>
                    <img *ngFor="let foto of artenFotos; let i=index" [src]="foto.thumb" (click)="open(i)" alt="thumbnail" class="img-thumbnail" />
                </div>
            </div>
        </div>
    </div>
</div>